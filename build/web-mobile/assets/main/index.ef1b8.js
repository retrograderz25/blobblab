System.register("chunks:///_virtual/Block.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var r,e,o,i,n,s,a,l,h;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,a=t.Node,l=t.UITransform,h=t.Component}],execute:function(){var u,c,p,d,B,f,m,g,b,v,y;n._RF.push({},"35e4aFyJH5Cz47ZvYM6t6Xe","Block",void 0);var z=s.ccclass,C=s.property;t("Block",(u=z("Block"),c=C(a),p=C(a),d=C(a),B=C(a),u((g=r((m=function(t){function r(){for(var r,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return r=t.call.apply(t,[this].concat(n))||this,o(r,"topBorder",g,i(r)),o(r,"bottomBorder",b,i(r)),o(r,"leftBorder",v,i(r)),o(r,"rightBorder",y,i(r)),r.row=0,r.col=0,r.parentShape=null,r._uiTransform=null,r}e(r,t);var n=r.prototype;return n.onLoad=function(){this._uiTransform=this.getComponent(l)},n.setShape=function(t){this.parentShape=t},n.updateBorders=function(t,r,e,o){this.topBorder&&(this.topBorder.active=t),this.bottomBorder&&(this.bottomBorder.active=r),this.leftBorder&&(this.leftBorder.active=e),this.rightBorder&&(this.rightBorder.active=o)},n.resizeBorders=function(t){this._uiTransform||(this._uiTransform=this.getComponent(l));var r=this._uiTransform.width,e=this._uiTransform.height,o=r/2,i=e/2,n=r+t,s=e+t;this.topBorder&&(this.topBorder.getComponent(l).setContentSize(n,t),this.topBorder.setPosition(0,i+t/2)),this.bottomBorder&&(this.bottomBorder.getComponent(l).setContentSize(n,t),this.bottomBorder.setPosition(0,-i-t/2)),this.leftBorder&&(this.leftBorder.getComponent(l).setContentSize(t,s),this.leftBorder.setPosition(-o-t/2,0)),this.rightBorder&&(this.rightBorder.getComponent(l).setContentSize(t,s),this.rightBorder.setPosition(o+t/2,0))},r}(h)).prototype,"topBorder",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=r(m.prototype,"bottomBorder",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(m.prototype,"leftBorder",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=r(m.prototype,"rightBorder",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Block.ts"],(function(o){var t,e,i,n,l,r,c,a,s,p,u,f,h,k;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,i=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){l=o.cclegacy,r=o._decorator,c=o.Prefab,a=o.SpriteFrame,s=o.NodePool,p=o.instantiate,u=o.UITransform,f=o.Sprite,h=o.Component},function(o){k=o.Block}],execute:function(){var v,b,d,P,g,B,w,m;l._RF.push({},"88d600S9CBDXq350yxeSkwk","BlockPool",void 0);var z=r.ccclass,S=r.property;o("BlockPool",(v=z("BlockPool"),b=S(c),d=S([a]),v((B=t((g=function(o){function t(){for(var t,e=arguments.length,l=new Array(e),r=0;r<e;r++)l[r]=arguments[r];return t=o.call.apply(o,[this].concat(l))||this,i(t,"blockPrefab",B,n(t)),i(t,"blockSprites",w,n(t)),i(t,"initialPoolSize",m,n(t)),t.pool=null,t.activeBlocks=[],t}e(t,o);var l=t.prototype;return l.onLoad=function(){this.initPool()},l.initPool=function(){this.pool=new s;for(var o=0;o<this.initialPoolSize;o++){var t=p(this.blockPrefab);this.pool.put(t)}console.log("BlockPool initialized with "+this.initialPoolSize+" blocks")},l.spawn=function(o,t,e,i,n){var l;this.pool.size()>0?l=this.pool.get():(l=p(this.blockPrefab),console.warn("Pool empty, created a new block. Consider increasing pool size."));var r=l.getComponent(u);r&&r.setContentSize(t,e);var c=l.getComponent(k);c&&void 0!==n&&c.resizeBorders(n),o.addChild(l),l.active=!0;var a=l.getComponent(f);if(a)if(i)a.spriteFrame=i;else if(this.blockSprites.length>0){var s=Math.floor(Math.random()*this.blockSprites.length);a.spriteFrame=this.blockSprites[s]}return this.activeBlocks.push(l),l.getComponent(k)},l.despawn=function(o){if(o&&o.isValid){var t=this.activeBlocks.indexOf(o);t>-1&&this.activeBlocks.splice(t,1);var e=o.getComponent(k);e&&(e.row=0,e.col=0),o.active=!1,this.pool.put(o)}},l.despawnMultiple=function(o){var t=this;o.forEach((function(o){return t.despawn(o)}))},l.despawnAll=function(){var o=this;[].concat(this.activeBlocks).forEach((function(t){return o.despawn(t)}))},l.getActiveCount=function(){return this.activeBlocks.length},l.getPoolSize=function(){return this.pool.size()},l.clearPool=function(){this.despawnAll(),this.pool.clear(),this.activeBlocks=[],console.log("BlockPool cleared")},l.onDestroy=function(){this.clearPool()},t}(h)).prototype,"blockPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(g.prototype,"blockSprites",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=t(g.prototype,"initialPoolSize",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),P=g))||P));l._RF.pop()}}}));

System.register("chunks:///_virtual/EffectPool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,r,n,l,a,c,f,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,a=e.Prefab,c=e.NodePool,f=e.instantiate,s=e.ParticleSystem2D,u=e.Component}],execute:function(){var p,h,P,y,b,d;n._RF.push({},"4c957Qyx9tAWpigo0mJ1ugU","EffectPool",void 0);var v=l.ccclass,g=l.property;e("EffectPool",(p=v("EffectPool"),h=g(a),p((b=t((y=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,i(t,"effectPrefab",b,r(t)),i(t,"initialPoolSize",d,r(t)),t.pool=null,t}o(t,e);var n=t.prototype;return n.onLoad=function(){this.pool=new c;for(var e=0;e<this.initialPoolSize;e++){var t=f(this.effectPrefab);this.pool.put(t)}},n.spawn=function(e,t){var o,i=this;o=this.pool.size()>0?this.pool.get():f(this.effectPrefab),e.addChild(o),o.setPosition(t);var r=o.getComponent(s);return r.resetSystem(),this.scheduleOnce((function(){i.pool.put(o)}),r.life),o},t}(u)).prototype,"effectPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(y.prototype,"initialPoolSize",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),P=y))||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InputManager.ts","./BlockPool.ts","./GameOverUI.ts","./EffectPool.ts","./Shape.ts","./ShapeData.ts"],(function(e){var t,i,o,r,a,n,s,l,h,c,u,d,p,f,b,v,S,g,m,k,z,P,w,O,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.createForOfIteratorHelperLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,l=e.Node,h=e.Prefab,c=e.Label,u=e.sys,d=e.director,p=e.UITransform,f=e.instantiate,b=e.v3,v=e.Vec3,S=e.tween,g=e.Component},function(e){m=e.SwipeDirection},function(e){k=e.BlockPool},function(e){z=e.GameOverUI},function(e){P=e.EffectPool},function(e){w=e.Shape},function(e){O=e.SHAPE_KEYS,B=e.SHAPES}],execute:function(){var G,y,M,E,N,I,A,C,T,_,L,D,H,U,F,R,V,W,Z,j,x,J,K,Y,q,Q;n._RF.push({},"4d0a8kUWPJHko8dVO5dpsBw","GameManager",void 0);var X=s.ccclass,$=s.property;e("GameManager",(G=X("GameManager"),y=$(l),M=$(l),E=$(l),N=$(l),I=$(l),A=$(l),C=$(k),T=$(h),_=$(c),L=$(z),D=$(P),G((F=t((U=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,r(t,"pauseButton",F,a(t)),r(t,"pausePanel",R,a(t)),r(t,"resumeButton",V,a(t)),r(t,"menuButtonInPause",W,a(t)),r(t,"boardNode",Z,a(t)),r(t,"inputManagerNode",j,a(t)),r(t,"blockPool",x,a(t)),r(t,"cellPrefab",J,a(t)),r(t,"scoreLabel",K,a(t)),r(t,"gameOverPanel",Y,a(t)),r(t,"effectPool",q,a(t)),r(t,"boardSize",Q,a(t)),t.cellSize=0,t.spacing=0,t.score=0,t.highScore=0,t.isGameOver=!1,t.isMoving=!1,t.blocks=[],t.shapesOnBoard=[],t.isPaused=!1,t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.inputManagerNode.on("swipe-detected",this.handleSwipe,this),this.pauseButton.on(l.EventType.TOUCH_END,this.pauseGame,this),this.resumeButton.on(l.EventType.TOUCH_END,this.resumeGame,this),this.menuButtonInPause.on(l.EventType.TOUCH_END,this.backToMenu,this);var e=parseInt(u.localStorage.getItem("selectedBoardSize")||"8");this.boardSize=e,this.highScore=parseInt(u.localStorage.getItem("blobblab_highscore_"+this.boardSize)||"0"),this.gameOverPanel&&(this.gameOverPanel.node.active=!1),this.pausePanel&&(this.pausePanel.active=!1),this.initBoard()},n.backToMenu=function(){d.loadScene("Menu")},n.pauseGame=function(){this.isGameOver||(this.isPaused=!0,this.pausePanel.active=!0,d.pause())},n.resumeGame=function(){this.isPaused=!1,this.pausePanel.active=!1,d.resume()},n.start=function(){this.startGame()},n.initBoard=function(){var e=.95*this.boardNode.parent.getComponent(p).contentSize.width/this.boardSize;this.cellSize=.9*e,this.spacing=.1*e,console.log("Responsive Board: Size="+this.boardSize+", CellSize="+this.cellSize+", Spacing="+this.spacing),this.boardNode.removeAllChildren(),this.blocks=[];var t=this.boardSize*(this.cellSize+this.spacing)-this.spacing;this.boardNode.getComponent(p).setContentSize(t,t);for(var i=-t/2+this.cellSize/2,o=t/2-this.cellSize/2,r=0;r<this.boardSize;r++){this.blocks[r]=[];for(var a=0;a<this.boardSize;a++){var n=f(this.cellPrefab);this.boardNode.addChild(n),n.getComponent(p).setContentSize(this.cellSize,this.cellSize);var s=i+a*(this.cellSize+this.spacing),l=o-r*(this.cellSize+this.spacing);n.setPosition(b(s,l)),this.blocks[r][a]=null}}},n.startGame=function(){var e=this;this.isGameOver=!1,this.isMoving=!1,this.gameOverPanel&&(this.gameOverPanel.node.active=!1),this.blockPool&&this.blockPool.despawnAll(),this.blocks=[];for(var t=0;t<this.boardSize;t++){this.blocks[t]=[];for(var i=0;i<this.boardSize;i++)this.blocks[t][i]=null}this.shapesOnBoard=[],this.updateScore(0),this.spawnNewShape(),this.scheduleOnce((function(){return e.updateAllBorders()}),.3)},n.spawnNewShape=function(){if(this.blockPool&&0!==this.blockPool.blockSprites.length){var e=O[Math.floor(Math.random()*O.length)],t=B[e],i=this.findEmptySpotForShape(t);if(i){for(var o=new w,r=this.blockPool.blockSprites,a=r[Math.floor(Math.random()*r.length)],n=0;n<t.length;n++)for(var s=0;s<t[n].length;s++)if(1===t[n][s]){var l=i.row+n,h=i.col+s,c=this.blockPool.spawn(this.boardNode,this.cellSize,this.cellSize,a,this.spacing);c.row=l,c.col=h,o.addBlock(c),this.blocks[l][h]=c,this.updateBlockPosition(c,!1);var u=c.node;u.setScale(v.ZERO),S(u).to(.2,{scale:v.ONE},{easing:"backOut"}).start()}this.shapesOnBoard.push(o)}else this.endGame()}else console.error("BlockPool is not ready or has no sprites!")},n.findEmptySpotForShape=function(e){for(var t=e.length,i=e[0].length,o=[],r=0;r<=this.boardSize-t;r++)for(var a=0;a<=this.boardSize-i;a++)this.canPlaceShapeAt(e,r,a)&&o.push({row:r,col:a});return o.length>0?o[Math.floor(Math.random()*o.length)]:null},n.canPlaceShapeAt=function(e,t,i){for(var o=0;o<e.length;o++)for(var r=0;r<e[o].length;r++)if(1===e[o][r]&&this.blocks[t+o][i+r])return!1;return!0},n.handleSwipe=function(e){var t=this;this.isMoving||this.isGameOver||this.isPaused||this.moveShapes(e)&&(this.isMoving=!0,this.scheduleOnce((function(){t.updateAllBorders(),t.checkAndClearLines(),t.scheduleOnce((function(){t.spawnNewShape(),t.updateAllBorders(),t.isGameOver||t.checkGameOver(),t.isMoving=!1}),.3)}),.15))},n.moveShapes=function(e){var t=!1,i=0,r=0;for(e===m.UP&&(i=-1),e===m.DOWN&&(i=1),e===m.LEFT&&(r=-1),e===m.RIGHT&&(r=1);;){for(var a,n=!1,s=[],l=o(this.shapesOnBoard);!(a=l()).done;){var h=a.value,c=!0;if(0!==h.childBlocks.length){for(var u,d=o(h.childBlocks);!(u=d()).done;){var p=u.value,f=p.row+i,b=p.col+r;if(f<0||f>=this.boardSize||b<0||b>=this.boardSize){c=!1;break}var v=this.blocks[f][b];if(v&&v.parentShape.id!==h.id){c=!1;break}}c&&s.push(h)}}if(s.length>0){n=!0,t=!0;for(var S,g=o(s);!(S=g()).done;){for(var k,z=S.value,P=[].concat(z.childBlocks).sort((function(e,t){return 1===i?t.row-e.row:-1===i?e.row-t.row:1===r?t.col-e.col:-1===r?e.col-t.col:0})),w=o(P);!(k=w()).done;){var O=k.value,B=O.row,G=O.col;this.blocks[B][G]=null}for(var y,M=o(P);!(y=M()).done;){var E=y.value,N=E.row+i,I=E.col+r;E.row=N,E.col=I,this.blocks[N][I]=E}}}if(!n)break}if(t)for(var A,C=o(this.shapesOnBoard);!(A=C()).done;)for(var T,_=A.value,L=o(_.childBlocks);!(T=L()).done;){var D=T.value;this.updateBlockPosition(D,!0)}return t},n.checkAndClearLines=function(){for(var e=this,t=[],i=[],o=0;o<this.boardSize;o++)this.blocks[o]&&this.blocks[o].every((function(e){return!!e}))&&t.push(o);for(var r=0;r<this.boardSize;r++){for(var a=!0,n=0;n<this.boardSize;n++)if(!this.blocks[n][r]){a=!1;break}a&&i.push(r)}for(var s=new Set,l=0,h=t;l<h.length;l++)for(var c=h[l],u=0;u<this.boardSize;u++)this.blocks[c][u]&&s.add(this.blocks[c][u]);for(var d=0,p=i;d<p.length;d++)for(var f=p[d],b=0;b<this.boardSize;b++)this.blocks[b][f]&&s.add(this.blocks[b][f]);if(s.size>0){var g=t.length+i.length;this.updateScore(this.score+10*g*g),s.forEach((function(t){e.blocks[t.row][t.col]=null,t.parentShape&&t.parentShape.removeBlock(t),e.effectPool&&e.effectPool.spawn(e.boardNode,t.node.position),S(t.node).to(.2,{scale:v.ZERO}).call((function(){e.blockPool.despawn(t.node),t.node.setScale(v.ONE)})).start()})),this.restructureShapes()}},n.restructureShapes=function(){for(var e,t=[],i=new Set,r=o(this.shapesOnBoard);!(e=r()).done;)for(var a,n=e.value,s=o(n.childBlocks);!(a=s()).done;){var l=a.value;if(!i.has(l)){var h=new w,c=[l];for(i.add(l);c.length>0;){var u=c.shift();h.addBlock(u);for(var d=0,p=[{r:u.row+1,c:u.col},{r:u.row-1,c:u.col},{r:u.row,c:u.col+1},{r:u.row,c:u.col-1}];d<p.length;d++){var f=p[d];if(f.r>=0&&f.r<this.boardSize&&f.c>=0&&f.c<this.boardSize){var b=this.blocks[f.r][f.c];b&&!i.has(b)&&b.parentShape.id===n.id&&(i.add(b),c.push(b))}}}h.childBlocks.length>0&&t.push(h)}}this.shapesOnBoard=t},n.updateAllBorders=function(){for(var e=0;e<this.boardSize;e++)for(var t=0;t<this.boardSize;t++){var i=this.blocks[e][t];if(i){var o=e>0?this.blocks[e-1][t]:null,r=e<this.boardSize-1?this.blocks[e+1][t]:null,a=t>0?this.blocks[e][t-1]:null,n=t<this.boardSize-1?this.blocks[e][t+1]:null,s=!o||o.parentShape.id!==i.parentShape.id,l=!r||r.parentShape.id!==i.parentShape.id,h=!a||a.parentShape.id!==i.parentShape.id,c=!n||n.parentShape.id!==i.parentShape.id;i.updateBorders(s,l,h,c)}}},n.checkGameOver=function(){return!!this.isGameOver||!this.findEmptySpotForShape([[1]])&&(this.endGame(),!0)},n.endGame=function(){this.isGameOver||(this.isGameOver=!0,this.isMoving=!0,console.log("GAME OVER!"),this.score>this.highScore&&(this.highScore=this.score,u.localStorage.setItem("blobblab_highscore_"+this.boardSize,this.highScore.toString())),this.gameOverPanel&&this.gameOverPanel.show(this.score,this.highScore))},n.forceGameOver=function(){this.isPaused&&this.resumeGame(),this.endGame()},n.updateBlockPosition=function(e,t){void 0===t&&(t=!0);var i=this.boardSize*(this.cellSize+this.spacing)-this.spacing,o=-i/2+this.cellSize/2,r=i/2-this.cellSize/2,a=o+e.col*(this.cellSize+this.spacing),n=r-e.row*(this.cellSize+this.spacing),s=new v(a,n,0);t?S(e.node).to(.1,{position:s},{easing:"cubicOut"}).start():e.node.setPosition(s)},n.updateScore=function(e){this.score=e,this.scoreLabel.string=""+this.score},t}(g)).prototype,"pauseButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(U.prototype,"pausePanel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(U.prototype,"resumeButton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(U.prototype,"menuButtonInPause",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(U.prototype,"boardNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(U.prototype,"inputManagerNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(U.prototype,"blockPool",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(U.prototype,"cellPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(U.prototype,"scoreLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(U.prototype,"gameOverPanel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(U.prototype,"effectPool",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(U.prototype,"boardSize",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),H=U))||H));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameOverUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,i,a,c,u,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Label,u=e.Node,l=e.director,s=e.Component}],execute:function(){var p,f,h,v,b,d,y,m,g;i._RF.push({},"0dc3a2OCMBJWbH0t7Piywvd","GameOverUI",void 0);var B=a.ccclass,I=a.property;e("GameOverUI",(p=B("GameOverUI"),f=I(c),h=I(u),v=I(u),p((y=t((d=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"scoreInfoLabel",y,o(t)),r(t,"restartButton",m,o(t)),r(t,"menuButton",g,o(t)),t}n(t,e);var i=t.prototype;return i.onLoad=function(){this.restartButton.on(u.EventType.TOUCH_END,this.onRestart,this),this.menuButton.on(u.EventType.TOUCH_END,this.onBackToMenu,this)},i.onBackToMenu=function(){l.loadScene("Menu")},i.show=function(e,t){this.node.active=!0,this.scoreInfoLabel.string="Score: "+e+"\nHigh Score: "+t},i.hide=function(){this.node.active=!1},i.onRestart=function(){l.loadScene(l.getScene().name)},t}(s)).prototype,"scoreInfoLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(d.prototype,"restartButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(d.prototype,"menuButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=d))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/InputManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i,e,o,r,s,a,c,h,u,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Enum,c=t.input,h=t.Input,u=t.v2,p=t.Component}],execute:function(){var T,f,l;r._RF.push({},"c9553Xpd0xGS5/NRwuXNYfm","InputManager",void 0);var E=s.ccclass,d=s.property,y=t("SwipeDirection",function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT",t}({}));a(y);t("InputManager",E("InputManager")((l=n((f=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,e(n,"swipeThreshold",l,o(n)),n.touchStartPos=u(0,0),n.isSwiping=!1,n}i(n,t);var r=n.prototype;return r.onLoad=function(){c.on(h.EventType.TOUCH_START,this.onTouchStart,this),c.on(h.EventType.TOUCH_END,this.onTouchEnd,this),c.on(h.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},r.onDestroy=function(){c.off(h.EventType.TOUCH_START,this.onTouchStart,this),c.off(h.EventType.TOUCH_END,this.onTouchEnd,this),c.off(h.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},r.onTouchStart=function(t){this.touchStartPos=t.getUILocation(),this.isSwiping=!0},r.onTouchEnd=function(t){if(this.isSwiping){this.isSwiping=!1;var n=t.getUILocation().subtract(this.touchStartPos);if(!(n.length()<this.swipeThreshold)){var i=y.NONE;(i=Math.abs(n.x)>Math.abs(n.y)?n.x>0?y.RIGHT:y.LEFT:n.y>0?y.UP:y.DOWN)!==y.NONE&&this.node.emit("swipe-detected",i)}}},n}(p)).prototype,"swipeThreshold",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),T=f))||T);r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Block.ts","./BlockPool.ts","./EffectPool.ts","./GameManager.ts","./GameOverUI.ts","./InputManager.ts","./MenuManager.ts","./Shape.ts","./ShapeData.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MenuManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r,i,u,a,l,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,u=e._decorator,a=e.Node,l=e.sys,c=e.director,s=e.Component}],execute:function(){var d,p,f,y,h,g,M,m,v;i._RF.push({},"98d355t4fpDlZuW7UL7Cv/A","MenuManager",void 0);var B=u.ccclass,b=u.property;e("MenuManager",(d=B("MenuManager"),p=b(a),f=b(a),y=b(a),d((M=t((g=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return t=e.call.apply(e,[this].concat(i))||this,o(t,"easyButton",M,r(t)),o(t,"mediumButton",m,r(t)),o(t,"hardButton",v,r(t)),t}n(t,e);var i=t.prototype;return i.onLoad=function(){var e=this;this.easyButton.on(a.EventType.TOUCH_END,(function(){return e.onModeSelected(8)}),this),this.mediumButton.on(a.EventType.TOUCH_END,(function(){return e.onModeSelected(12)}),this),this.hardButton.on(a.EventType.TOUCH_END,(function(){return e.onModeSelected(16)}),this)},i.onModeSelected=function(e){console.log("Board size selected: "+e),l.localStorage.setItem("selectedBoardSize",e.toString()),c.loadScene("scene")},t}(s)).prototype,"easyButton",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(g.prototype,"mediumButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(g.prototype,"hardButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/Shape.ts",["cc"],(function(c){var i,t;return{setters:[function(c){i=c.cclegacy,t=c._decorator}],execute:function(){var s;i._RF.push({},"58a217G3oxMj4+44y48XndH","Shape",void 0);var e=t.ccclass,o=0;c("Shape",e("Shape")(s=function(){function c(){this.id=void 0,this.childBlocks=[],this.id=o++}var i=c.prototype;return i.addBlock=function(c){this.childBlocks.includes(c)||(this.childBlocks.push(c),c.setShape(this))},i.removeBlock=function(c){var i=this.childBlocks.indexOf(c);i>-1&&(this.childBlocks.splice(i,1),c.setShape(null))},c}())||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ShapeData.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d1756pTpFBCFLlbn5rMCGTL","ShapeData",void 0);var c=e("SHAPES",{O:[[1,1],[1,1]],I:[[1],[1],[1],[1]],T:[[1,1,1],[0,1,0]],L:[[1,0],[1,0],[1,1]],J:[[0,1],[0,1],[1,1]],S:[[0,1,1],[1,1,0]],Z:[[1,1,0],[0,1,1]],SINGLE:[[1]]});e("SHAPE_KEYS",Object.keys(c));t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});