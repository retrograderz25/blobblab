System.register("chunks:///_virtual/Block.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var r,e,o,i,n,s,a,l,h;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,a=t.Node,l=t.UITransform,h=t.Component}],execute:function(){var u,c,p,d,B,f,m,g,b,v,y;n._RF.push({},"35e4aFyJH5Cz47ZvYM6t6Xe","Block",void 0);var z=s.ccclass,C=s.property;t("Block",(u=z("Block"),c=C(a),p=C(a),d=C(a),B=C(a),u((g=r((m=function(t){function r(){for(var r,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return r=t.call.apply(t,[this].concat(n))||this,o(r,"topBorder",g,i(r)),o(r,"bottomBorder",b,i(r)),o(r,"leftBorder",v,i(r)),o(r,"rightBorder",y,i(r)),r.row=0,r.col=0,r.parentShape=null,r._uiTransform=null,r}e(r,t);var n=r.prototype;return n.onLoad=function(){this._uiTransform=this.getComponent(l)},n.setShape=function(t){this.parentShape=t},n.updateBorders=function(t,r,e,o){this.topBorder&&(this.topBorder.active=t),this.bottomBorder&&(this.bottomBorder.active=r),this.leftBorder&&(this.leftBorder.active=e),this.rightBorder&&(this.rightBorder.active=o)},n.resizeBorders=function(t){this._uiTransform||(this._uiTransform=this.getComponent(l));var r=this._uiTransform.width,e=this._uiTransform.height,o=r/2,i=e/2,n=r+t,s=e+t;this.topBorder&&(this.topBorder.getComponent(l).setContentSize(n,t),this.topBorder.setPosition(0,i+t/2)),this.bottomBorder&&(this.bottomBorder.getComponent(l).setContentSize(n,t),this.bottomBorder.setPosition(0,-i-t/2)),this.leftBorder&&(this.leftBorder.getComponent(l).setContentSize(t,s),this.leftBorder.setPosition(-o-t/2,0)),this.rightBorder&&(this.rightBorder.getComponent(l).setContentSize(t,s),this.rightBorder.setPosition(o+t/2,0))},r}(h)).prototype,"topBorder",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=r(m.prototype,"bottomBorder",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(m.prototype,"leftBorder",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=r(m.prototype,"rightBorder",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Block.ts"],(function(o){var t,e,i,n,l,r,c,a,s,p,u,f,h,k;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,i=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){l=o.cclegacy,r=o._decorator,c=o.Prefab,a=o.SpriteFrame,s=o.NodePool,p=o.instantiate,u=o.UITransform,f=o.Sprite,h=o.Component},function(o){k=o.Block}],execute:function(){var v,b,d,P,g,B,w,m;l._RF.push({},"88d600S9CBDXq350yxeSkwk","BlockPool",void 0);var z=r.ccclass,S=r.property;o("BlockPool",(v=z("BlockPool"),b=S(c),d=S([a]),v((B=t((g=function(o){function t(){for(var t,e=arguments.length,l=new Array(e),r=0;r<e;r++)l[r]=arguments[r];return t=o.call.apply(o,[this].concat(l))||this,i(t,"blockPrefab",B,n(t)),i(t,"blockSprites",w,n(t)),i(t,"initialPoolSize",m,n(t)),t.pool=null,t.activeBlocks=[],t}e(t,o);var l=t.prototype;return l.onLoad=function(){this.initPool()},l.initPool=function(){this.pool=new s;for(var o=0;o<this.initialPoolSize;o++){var t=p(this.blockPrefab);this.pool.put(t)}console.log("BlockPool initialized with "+this.initialPoolSize+" blocks")},l.spawn=function(o,t,e,i,n){var l;this.pool.size()>0?l=this.pool.get():(l=p(this.blockPrefab),console.warn("Pool empty, created a new block. Consider increasing pool size."));var r=l.getComponent(u);r&&r.setContentSize(t,e);var c=l.getComponent(k);c&&void 0!==n&&c.resizeBorders(n),o.addChild(l),l.active=!0;var a=l.getComponent(f);if(a)if(i)a.spriteFrame=i;else if(this.blockSprites.length>0){var s=Math.floor(Math.random()*this.blockSprites.length);a.spriteFrame=this.blockSprites[s]}return this.activeBlocks.push(l),l.getComponent(k)},l.despawn=function(o){if(o&&o.isValid){var t=this.activeBlocks.indexOf(o);t>-1&&this.activeBlocks.splice(t,1);var e=o.getComponent(k);e&&(e.row=0,e.col=0),o.active=!1,this.pool.put(o)}},l.despawnMultiple=function(o){var t=this;o.forEach((function(o){return t.despawn(o)}))},l.despawnAll=function(){var o=this;[].concat(this.activeBlocks).forEach((function(t){return o.despawn(t)}))},l.getActiveCount=function(){return this.activeBlocks.length},l.getPoolSize=function(){return this.pool.size()},l.clearPool=function(){this.despawnAll(),this.pool.clear(),this.activeBlocks=[],console.log("BlockPool cleared")},l.onDestroy=function(){this.clearPool()},t}(h)).prototype,"blockPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(g.prototype,"blockSprites",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=t(g.prototype,"initialPoolSize",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),P=g))||P));l._RF.pop()}}}));

System.register("chunks:///_virtual/EffectPool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,r,n,l,a,c,f,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,a=e.Prefab,c=e.NodePool,f=e.instantiate,s=e.ParticleSystem2D,u=e.Component}],execute:function(){var p,h,P,y,b,d;n._RF.push({},"4c957Qyx9tAWpigo0mJ1ugU","EffectPool",void 0);var v=l.ccclass,g=l.property;e("EffectPool",(p=v("EffectPool"),h=g(a),p((b=t((y=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,i(t,"effectPrefab",b,r(t)),i(t,"initialPoolSize",d,r(t)),t.pool=null,t}o(t,e);var n=t.prototype;return n.onLoad=function(){this.pool=new c;for(var e=0;e<this.initialPoolSize;e++){var t=f(this.effectPrefab);this.pool.put(t)}},n.spawn=function(e,t){var o,i=this;o=this.pool.size()>0?this.pool.get():f(this.effectPrefab),e.addChild(o),o.setPosition(t);var r=o.getComponent(s);return r.resetSystem(),this.scheduleOnce((function(){i.pool.put(o)}),r.life),o},t}(u)).prototype,"effectPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(y.prototype,"initialPoolSize",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),P=y))||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InputManager.ts","./BlockPool.ts","./GameOverUI.ts","./EffectPool.ts","./Shape.ts","./ShapeData.ts"],(function(e){var o,i,t,r,a,s,n,l,h,c,d,p,u,f,b,S,v,g,k,z,m,w,P,O;return{setters:[function(e){o=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.createForOfIteratorHelperLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){s=e.cclegacy,n=e._decorator,l=e.Node,h=e.Prefab,c=e.Label,d=e.sys,p=e.UITransform,u=e.instantiate,f=e.v3,b=e.Vec3,S=e.tween,v=e.Component},function(e){g=e.SwipeDirection},function(e){k=e.BlockPool},function(e){z=e.GameOverUI},function(e){m=e.EffectPool},function(e){w=e.Shape},function(e){P=e.SHAPE_KEYS,O=e.SHAPES}],execute:function(){var B,G,y,M,N,E,A,I,C,L,_,F,R,D,H,U,T,V;s._RF.push({},"4d0a8kUWPJHko8dVO5dpsBw","GameManager",void 0);var W=n.ccclass,Z=n.property;e("GameManager",(B=W("GameManager"),G=Z(l),y=Z(l),M=Z(k),N=Z(h),E=Z(c),A=Z(z),I=Z(m),B((_=o((L=function(e){function o(){for(var o,i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return o=e.call.apply(e,[this].concat(t))||this,r(o,"boardNode",_,a(o)),r(o,"inputManagerNode",F,a(o)),r(o,"blockPool",R,a(o)),r(o,"cellPrefab",D,a(o)),r(o,"scoreLabel",H,a(o)),r(o,"gameOverPanel",U,a(o)),r(o,"effectPool",T,a(o)),r(o,"boardSize",V,a(o)),o.cellSize=0,o.spacing=0,o.score=0,o.highScore=0,o.isGameOver=!1,o.isMoving=!1,o.blocks=[],o.shapesOnBoard=[],o}i(o,e);var s=o.prototype;return s.onLoad=function(){this.inputManagerNode.on("swipe-detected",this.handleSwipe,this);var e=parseInt(d.localStorage.getItem("selectedBoardSize")||"8");this.boardSize=e,this.highScore=parseInt(d.localStorage.getItem("blobblab_highscore_"+this.boardSize)||"0"),this.gameOverPanel&&(this.gameOverPanel.node.active=!1),this.initBoard()},s.start=function(){this.startGame()},s.initBoard=function(){var e=.95*this.boardNode.parent.getComponent(p).contentSize.width/this.boardSize;this.cellSize=.9*e,this.spacing=.1*e,console.log("Responsive Board: Size="+this.boardSize+", CellSize="+this.cellSize+", Spacing="+this.spacing),this.boardNode.removeAllChildren(),this.blocks=[];var o=this.boardSize*(this.cellSize+this.spacing)-this.spacing;this.boardNode.getComponent(p).setContentSize(o,o);for(var i=-o/2+this.cellSize/2,t=o/2-this.cellSize/2,r=0;r<this.boardSize;r++){this.blocks[r]=[];for(var a=0;a<this.boardSize;a++){var s=u(this.cellPrefab);this.boardNode.addChild(s),s.getComponent(p).setContentSize(this.cellSize,this.cellSize);var n=i+a*(this.cellSize+this.spacing),l=t-r*(this.cellSize+this.spacing);s.setPosition(f(n,l)),this.blocks[r][a]=null}}},s.startGame=function(){var e=this;this.isGameOver=!1,this.isMoving=!1,this.gameOverPanel&&(this.gameOverPanel.node.active=!1),this.blockPool&&this.blockPool.despawnAll(),this.blocks=[];for(var o=0;o<this.boardSize;o++){this.blocks[o]=[];for(var i=0;i<this.boardSize;i++)this.blocks[o][i]=null}this.shapesOnBoard=[],this.updateScore(0),this.spawnNewShape(),this.scheduleOnce((function(){return e.updateAllBorders()}),.3)},s.spawnNewShape=function(){if(this.blockPool&&0!==this.blockPool.blockSprites.length){var e=P[Math.floor(Math.random()*P.length)],o=O[e],i=this.findEmptySpotForShape(o);if(i){for(var t=new w,r=this.blockPool.blockSprites,a=r[Math.floor(Math.random()*r.length)],s=0;s<o.length;s++)for(var n=0;n<o[s].length;n++)if(1===o[s][n]){var l=i.row+s,h=i.col+n,c=this.blockPool.spawn(this.boardNode,this.cellSize,this.cellSize,a,this.spacing);c.row=l,c.col=h,t.addBlock(c),this.blocks[l][h]=c,this.updateBlockPosition(c,!1);var d=c.node;d.setScale(b.ZERO),S(d).to(.2,{scale:b.ONE},{easing:"backOut"}).start()}this.shapesOnBoard.push(t)}else this.endGame()}else console.error("BlockPool is not ready or has no sprites!")},s.findEmptySpotForShape=function(e){for(var o=e.length,i=e[0].length,t=[],r=0;r<=this.boardSize-o;r++)for(var a=0;a<=this.boardSize-i;a++)this.canPlaceShapeAt(e,r,a)&&t.push({row:r,col:a});return t.length>0?t[Math.floor(Math.random()*t.length)]:null},s.canPlaceShapeAt=function(e,o,i){for(var t=0;t<e.length;t++)for(var r=0;r<e[t].length;r++)if(1===e[t][r]&&this.blocks[o+t][i+r])return!1;return!0},s.handleSwipe=function(e){var o=this;this.isMoving||this.isGameOver||this.moveShapes(e)&&(this.isMoving=!0,this.scheduleOnce((function(){o.updateAllBorders(),o.checkAndClearLines(),o.scheduleOnce((function(){o.spawnNewShape(),o.updateAllBorders(),o.isGameOver||o.checkGameOver(),o.isMoving=!1}),.3)}),.15))},s.moveShapes=function(e){var o=!1,i=0,r=0;for(e===g.UP&&(i=-1),e===g.DOWN&&(i=1),e===g.LEFT&&(r=-1),e===g.RIGHT&&(r=1);;){for(var a,s=!1,n=[],l=t(this.shapesOnBoard);!(a=l()).done;){var h=a.value,c=!0;if(0!==h.childBlocks.length){for(var d,p=t(h.childBlocks);!(d=p()).done;){var u=d.value,f=u.row+i,b=u.col+r;if(f<0||f>=this.boardSize||b<0||b>=this.boardSize){c=!1;break}var S=this.blocks[f][b];if(S&&S.parentShape.id!==h.id){c=!1;break}}c&&n.push(h)}}if(n.length>0){s=!0,o=!0;for(var v,k=t(n);!(v=k()).done;){for(var z,m=v.value,w=[].concat(m.childBlocks).sort((function(e,o){return 1===i?o.row-e.row:-1===i?e.row-o.row:1===r?o.col-e.col:-1===r?e.col-o.col:0})),P=t(w);!(z=P()).done;){var O=z.value,B=O.row,G=O.col;this.blocks[B][G]=null}for(var y,M=t(w);!(y=M()).done;){var N=y.value,E=N.row+i,A=N.col+r;N.row=E,N.col=A,this.blocks[E][A]=N}}}if(!s)break}if(o)for(var I,C=t(this.shapesOnBoard);!(I=C()).done;)for(var L,_=I.value,F=t(_.childBlocks);!(L=F()).done;){var R=L.value;this.updateBlockPosition(R,!0)}return o},s.checkAndClearLines=function(){for(var e=this,o=[],i=[],t=0;t<this.boardSize;t++)this.blocks[t]&&this.blocks[t].every((function(e){return!!e}))&&o.push(t);for(var r=0;r<this.boardSize;r++){for(var a=!0,s=0;s<this.boardSize;s++)if(!this.blocks[s][r]){a=!1;break}a&&i.push(r)}for(var n=new Set,l=0,h=o;l<h.length;l++)for(var c=h[l],d=0;d<this.boardSize;d++)this.blocks[c][d]&&n.add(this.blocks[c][d]);for(var p=0,u=i;p<u.length;p++)for(var f=u[p],v=0;v<this.boardSize;v++)this.blocks[v][f]&&n.add(this.blocks[v][f]);if(n.size>0){var g=o.length+i.length;this.updateScore(this.score+10*g*g),n.forEach((function(o){e.blocks[o.row][o.col]=null,o.parentShape&&o.parentShape.removeBlock(o),e.effectPool&&e.effectPool.spawn(e.boardNode,o.node.position),S(o.node).to(.2,{scale:b.ZERO}).call((function(){e.blockPool.despawn(o.node),o.node.setScale(b.ONE)})).start()})),this.restructureShapes()}},s.restructureShapes=function(){for(var e,o=[],i=new Set,r=t(this.shapesOnBoard);!(e=r()).done;)for(var a,s=e.value,n=t(s.childBlocks);!(a=n()).done;){var l=a.value;if(!i.has(l)){var h=new w,c=[l];for(i.add(l);c.length>0;){var d=c.shift();h.addBlock(d);for(var p=0,u=[{r:d.row+1,c:d.col},{r:d.row-1,c:d.col},{r:d.row,c:d.col+1},{r:d.row,c:d.col-1}];p<u.length;p++){var f=u[p];if(f.r>=0&&f.r<this.boardSize&&f.c>=0&&f.c<this.boardSize){var b=this.blocks[f.r][f.c];b&&!i.has(b)&&b.parentShape.id===s.id&&(i.add(b),c.push(b))}}}h.childBlocks.length>0&&o.push(h)}}this.shapesOnBoard=o},s.updateAllBorders=function(){for(var e=0;e<this.boardSize;e++)for(var o=0;o<this.boardSize;o++){var i=this.blocks[e][o];if(i){var t=e>0?this.blocks[e-1][o]:null,r=e<this.boardSize-1?this.blocks[e+1][o]:null,a=o>0?this.blocks[e][o-1]:null,s=o<this.boardSize-1?this.blocks[e][o+1]:null,n=!t||t.parentShape.id!==i.parentShape.id,l=!r||r.parentShape.id!==i.parentShape.id,h=!a||a.parentShape.id!==i.parentShape.id,c=!s||s.parentShape.id!==i.parentShape.id;i.updateBorders(n,l,h,c)}}},s.checkGameOver=function(){return!!this.isGameOver||!this.findEmptySpotForShape([[1]])&&(this.endGame(),!0)},s.endGame=function(){this.isGameOver||(this.isGameOver=!0,this.isMoving=!0,console.log("GAME OVER!"),this.score>this.highScore&&(this.highScore=this.score,d.localStorage.setItem("blobblab_highscore_"+this.boardSize,this.highScore.toString())),this.gameOverPanel&&this.gameOverPanel.show(this.score,this.highScore))},s.forceGameOver=function(){this.endGame()},s.updateBlockPosition=function(e,o){void 0===o&&(o=!0);var i=this.boardSize*(this.cellSize+this.spacing)-this.spacing,t=-i/2+this.cellSize/2,r=i/2-this.cellSize/2,a=t+e.col*(this.cellSize+this.spacing),s=r-e.row*(this.cellSize+this.spacing),n=new b(a,s,0);o?S(e.node).to(.1,{position:n},{easing:"cubicOut"}).start():e.node.setPosition(n)},s.updateScore=function(e){this.score=e,this.scoreLabel.string=""+this.score},o}(v)).prototype,"boardNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=o(L.prototype,"inputManagerNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=o(L.prototype,"blockPool",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=o(L.prototype,"cellPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=o(L.prototype,"scoreLabel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=o(L.prototype,"gameOverPanel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=o(L.prototype,"effectPool",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=o(L.prototype,"boardSize",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),C=L))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameOverUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,i,a,c,u,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Label,u=e.Node,l=e.director,s=e.Component}],execute:function(){var p,f,h,v,b,d,y,m,g;i._RF.push({},"0dc3a2OCMBJWbH0t7Piywvd","GameOverUI",void 0);var B=a.ccclass,I=a.property;e("GameOverUI",(p=B("GameOverUI"),f=I(c),h=I(u),v=I(u),p((y=t((d=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"scoreInfoLabel",y,o(t)),r(t,"restartButton",m,o(t)),r(t,"menuButton",g,o(t)),t}n(t,e);var i=t.prototype;return i.onLoad=function(){this.restartButton.on(u.EventType.TOUCH_END,this.onRestart,this),this.menuButton.on(u.EventType.TOUCH_END,this.onBackToMenu,this)},i.onBackToMenu=function(){l.loadScene("Menu")},i.show=function(e,t){this.node.active=!0,this.scoreInfoLabel.string="Score: "+e+"\nHigh Score: "+t},i.hide=function(){this.node.active=!1},i.onRestart=function(){l.loadScene(l.getScene().name)},t}(s)).prototype,"scoreInfoLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(d.prototype,"restartButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(d.prototype,"menuButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=d))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/InputManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i,e,o,r,s,a,c,h,u,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Enum,c=t.input,h=t.Input,u=t.v2,p=t.Component}],execute:function(){var T,f,l;r._RF.push({},"c9553Xpd0xGS5/NRwuXNYfm","InputManager",void 0);var E=s.ccclass,d=s.property,y=t("SwipeDirection",function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT",t}({}));a(y);t("InputManager",E("InputManager")((l=n((f=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,e(n,"swipeThreshold",l,o(n)),n.touchStartPos=u(0,0),n.isSwiping=!1,n}i(n,t);var r=n.prototype;return r.onLoad=function(){c.on(h.EventType.TOUCH_START,this.onTouchStart,this),c.on(h.EventType.TOUCH_END,this.onTouchEnd,this),c.on(h.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},r.onDestroy=function(){c.off(h.EventType.TOUCH_START,this.onTouchStart,this),c.off(h.EventType.TOUCH_END,this.onTouchEnd,this),c.off(h.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},r.onTouchStart=function(t){this.touchStartPos=t.getUILocation(),this.isSwiping=!0},r.onTouchEnd=function(t){if(this.isSwiping){this.isSwiping=!1;var n=t.getUILocation().subtract(this.touchStartPos);if(!(n.length()<this.swipeThreshold)){var i=y.NONE;(i=Math.abs(n.x)>Math.abs(n.y)?n.x>0?y.RIGHT:y.LEFT:n.y>0?y.UP:y.DOWN)!==y.NONE&&this.node.emit("swipe-detected",i)}}},n}(p)).prototype,"swipeThreshold",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),T=f))||T);r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Block.ts","./BlockPool.ts","./EffectPool.ts","./GameManager.ts","./GameOverUI.ts","./InputManager.ts","./MenuManager.ts","./Shape.ts","./ShapeData.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MenuManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r,i,u,a,l,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,u=e._decorator,a=e.Node,l=e.sys,c=e.director,s=e.Component}],execute:function(){var d,p,f,y,h,g,M,m,v;i._RF.push({},"98d355t4fpDlZuW7UL7Cv/A","MenuManager",void 0);var B=u.ccclass,b=u.property;e("MenuManager",(d=B("MenuManager"),p=b(a),f=b(a),y=b(a),d((M=t((g=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return t=e.call.apply(e,[this].concat(i))||this,o(t,"easyButton",M,r(t)),o(t,"mediumButton",m,r(t)),o(t,"hardButton",v,r(t)),t}n(t,e);var i=t.prototype;return i.onLoad=function(){var e=this;this.easyButton.on(a.EventType.TOUCH_END,(function(){return e.onModeSelected(8)}),this),this.mediumButton.on(a.EventType.TOUCH_END,(function(){return e.onModeSelected(12)}),this),this.hardButton.on(a.EventType.TOUCH_END,(function(){return e.onModeSelected(16)}),this)},i.onModeSelected=function(e){console.log("Board size selected: "+e),l.localStorage.setItem("selectedBoardSize",e.toString()),c.loadScene("scene")},t}(s)).prototype,"easyButton",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(g.prototype,"mediumButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(g.prototype,"hardButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/Shape.ts",["cc"],(function(c){var i,t;return{setters:[function(c){i=c.cclegacy,t=c._decorator}],execute:function(){var s;i._RF.push({},"58a217G3oxMj4+44y48XndH","Shape",void 0);var e=t.ccclass,o=0;c("Shape",e("Shape")(s=function(){function c(){this.id=void 0,this.childBlocks=[],this.id=o++}var i=c.prototype;return i.addBlock=function(c){this.childBlocks.includes(c)||(this.childBlocks.push(c),c.setShape(this))},i.removeBlock=function(c){var i=this.childBlocks.indexOf(c);i>-1&&(this.childBlocks.splice(i,1),c.setShape(null))},c}())||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ShapeData.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d1756pTpFBCFLlbn5rMCGTL","ShapeData",void 0);var c=e("SHAPES",{O:[[1,1],[1,1]],I:[[1],[1],[1],[1]],T:[[1,1,1],[0,1,0]],L:[[1,0],[1,0],[1,1]],J:[[0,1],[0,1],[1,1]],S:[[0,1,1],[1,1,0]],Z:[[1,1,0],[0,1,1]],SINGLE:[[1]]});e("SHAPE_KEYS",Object.keys(c));t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});